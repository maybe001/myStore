(function(){"use strict";var t={9758:function(t,e,s){s(8111),s(2489);var o=s(6848),n=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("MyHeader"),e("MyBody")],1)},i=[],r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"big"},[e("div",{staticClass:"child"},[e("div",{staticClass:"one"},[e("div",{staticClass:"dj",on:{click:function(e){return t.show()}}},[t._v(t._s(t.lx))]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.esshow,expression:"esshow"}],staticClass:"xz",attrs:{id:"xz"},on:{click:function(e){return e.stopPropagation(),t.check.apply(null,arguments)}}},[t._m(0)])]),e("div",{staticClass:"two"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.userinput,expression:"userinput"}],attrs:{type:"text",placeholder:"点击输入搜索内容...."},domProps:{value:t.userinput},on:{input:function(e){e.target.composing||(t.userinput=e.target.value)}}})]),e("div",{staticClass:"three"},[e("button",{on:{click:t.search}},[t._v("搜索")])])])])},a=[function(){var t=this,e=t._self._c;return e("ul",[e("a",[e("li",[t._v("类型")])]),e("a",[e("li",[t._v("作者")])]),e("a",[e("li",[t._v("书名")])])])}],l={data(){return{userinput:"",arr:[],esshow:!1,lx:"全部"}},mounted(){window.onclick=t=>{t.target.matches(".dj")||(this.esshow=!1)}},methods:{search(){if(""===this.userinput)return alert("请输入搜索内容");if("书名"===this.lx){const t=new XMLHttpRequest;t.open("get",`https://www.googleapis.com/books/v1/volumes?q=intitle:${this.userinput}}&maxResults=40`),t.send(),t.onreadystatechange=()=>{if(4===t.readyState)if(t.status>=200&&t.status<=300){let e=JSON.parse(t.response);this.arr=e.items,this.$bus.$emit("getUsers",this.arr)}else console.log("xhr.status",t.status)}}else if("作者"===this.lx){const t=new XMLHttpRequest;t.open("get",`https://www.googleapis.com/books/v1/volumes?q=inauthor:${this.userinput}}&maxResults=40`),t.send(),t.onreadystatechange=()=>{if(4===t.readyState)if(t.status>=200&&t.status<=300){let e=JSON.parse(t.response);this.arr=e.items,this.$bus.$emit("getUsers",this.arr)}else console.log("xhr.status",t.status)}}else if("类型"===this.lx){const t=new XMLHttpRequest;t.open("get",`https://www.googleapis.com/books/v1/volumes?q=subject:${this.userinput}}&maxResults=40`),t.send(),t.onreadystatechange=()=>{if(4===t.readyState)if(t.status>=200&&t.status<=300){let e=JSON.parse(t.response);this.arr=e.items,this.$bus.$emit("getUsers",this.arr)}else console.log("xhr.status",t.status)}}else{const t=new XMLHttpRequest;t.open("get",`https://www.googleapis.com/books/v1/volumes?q=${this.userinput}}&maxResults=10`),t.send(),t.onreadystatechange=()=>{if(4===t.readyState)if(t.status>=200&&t.status<=300){let e=JSON.parse(t.response);this.arr=e.items,this.$bus.$emit("getUsers",this.arr)}else console.log("xhr.status",t.status)}}},show(){1!=this.esshow?this.esshow=!0:this.esshow=!1},check(t){if("LI"===t.target.nodeName){let e=t.target.childNodes[0].data;this.lx=e}}}},u=l,c=s(1656),h=(0,c.A)(u,r,a,!1,null,"524466c3",null),f=h.exports,p=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"sum"},[t._v("搜索总数："+t._s(t.books.length)+" 本")]),e("div",{staticClass:"body"},t._l(t.books,(function(s,o){return e("div",{key:o,staticClass:"book"},[e("div",{staticClass:"bookleft"},[s.volumeInfo.imageLinks&&s.volumeInfo.imageLinks.smallThumbnail?e("img",{attrs:{src:s.volumeInfo.imageLinks.smallThumbnail,alt:"无图片"},on:{error:t.handleImageError}}):e("img",{attrs:{src:"/images/no-cover.jpg",alt:"封面缺失"}})]),e("div",{staticClass:"bookmiddle"},[e("h3",[t._v(t._s(t._f("truncate")(s.volumeInfo.title,50)))]),e("p",[t._v(" "+t._s(s.volumeInfo.authors?s.volumeInfo.authors.join(", "):"未找到作者")+" ")]),e("div",{staticClass:"booktype"},[e("ul",[e("li",[t._v(" "+t._s(s.volumeInfo.categories?s.volumeInfo.categories.join(", "):"未分类")+" ")]),e("li",{staticStyle:{border:"1px solid #f5b62d",color:"#f5b62d"}},[t._v(" page:"+t._s(s.volumeInfo.pageCount)+" ")]),e("li",{staticStyle:{border:"1px solid green",color:"green"}},[t._v("fiction")])])]),e("div",[t._v(t._s(t._f("truncate")(s.volumeInfo.description,50)))])]),e("div",{staticClass:"bookright"},[e("div",{staticClass:"star"},[t._v("⭐⭐⭐⭐⭐  ")]),e("div",{staticClass:"view"},[e("a",{attrs:{href:s.volumeInfo.canonicalVolumeLink,target:"_blank"}},[t._v("PREVIEW")])])])])})),0)])},v=[],d={data(){return{books:[]}},methods:{handleImageError(t){t.target.src="../images/u=3316768721,4044415275&fm=253&gp=0.jpg"}},mounted(){this.$bus.$on("getUsers",(t=>{this.books=t,console.log(this.books)}))},filters:{}},g=d,m=(0,c.A)(g,p,v,!1,null,null,null),b=m.exports,w={name:"App",components:{MyBody:b,MyHeader:f}},_=w,y=(0,c.A)(_,n,i,!1,null,null,null),k=y.exports;o.Ay.config.productionTip=!1,o.Ay.filter("truncate",((t,e)=>t?t.length>e?t.slice(0,e)+"...":t:"")),new o.Ay({render:t=>t(k),beforeCreate(){o.Ay.prototype.$bus=this}}).$mount("#app")}},e={};function s(o){var n=e[o];if(void 0!==n)return n.exports;var i=e[o]={exports:{}};return t[o].call(i.exports,i,i.exports,s),i.exports}s.m=t,function(){var t=[];s.O=function(e,o,n,i){if(!o){var r=1/0;for(c=0;c<t.length;c++){o=t[c][0],n=t[c][1],i=t[c][2];for(var a=!0,l=0;l<o.length;l++)(!1&i||r>=i)&&Object.keys(s.O).every((function(t){return s.O[t](o[l])}))?o.splice(l--,1):(a=!1,i<r&&(r=i));if(a){t.splice(c--,1);var u=n();void 0!==u&&(e=u)}}return e}i=i||0;for(var c=t.length;c>0&&t[c-1][2]>i;c--)t[c]=t[c-1];t[c]=[o,n,i]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var o in e)s.o(e,o)&&!s.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={524:0};s.O.j=function(e){return 0===t[e]};var e=function(e,o){var n,i,r=o[0],a=o[1],l=o[2],u=0;if(r.some((function(e){return 0!==t[e]}))){for(n in a)s.o(a,n)&&(s.m[n]=a[n]);if(l)var c=l(s)}for(e&&e(o);u<r.length;u++)i=r[u],s.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return s.O(c)},o=self["webpackChunkgooglebooks"]=self["webpackChunkgooglebooks"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=s.O(void 0,[504],(function(){return s(9758)}));o=s.O(o)})();
//# sourceMappingURL=app.39c99b04.js.map